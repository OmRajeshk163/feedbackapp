{
  "unpublishedCollection": {
    "name": "feedbackObj",
    "pageId": "PeerFeedback",
    "pluginId": "js-plugin",
    "pluginType": "JS",
    "actions": [],
    "archivedActions": [],
    "body": "export default {\n\tratingsTooltips:[\"Does not meet expectation\",\"Satisfactory\",\"Average\",\"Excellent\",\"Exceeds expectations\"],\n\tgetCurrentCycle:()=>{\n\t\tconst localDate = new Date();\n\t\tconst months = ['June','October'];\n\t\tconst cycle = (localDate.getMonth() > 5 && localDate.getMonth() < 9)?months[0]:months[1];\n\t\treturn cycle +\" \" + localDate.getFullYear()\n\t},\n\tgetCurrentDate:()=>{\n\t\tconst date=new Date();\n\t\tconst year=date.getFullYear();\n\t\tconst month=date.getMonth();\n\t\tconst day=date.getDate();\n\t\t\n\t\tconst hrs=date.getHours();\n\t\tconst mins=date.getMinutes();\n\t\tconst secs=date.getSeconds();\n\t\tconst milli=date.getMilliseconds();\n\t\t\n\t\tconst fullDate=`${year}/${month}/${(Number(day)<10?\"0\"+day:day)}  ${Number(hrs)<10?\"0\"+hrs:hrs}:${Number(mins)<10?\"0\"+mins:mins}:${Number(secs)<10?\"0\"+secs:secs}.${milli}`;\n\t\treturn fullDate;\n\t},\n\tgetcategoriesList:()=>{\n\t\tconst peerId=PeerName.selectedOptionValue;\n\t\tconst selfId=feedbackToName.selectedOptionValue;\n\t\tconst categories= getKraCategories.data;\n\t\tconst feedbacks = getFeedback.data.filter(fdbk=>fdbk.from_employee==peerId && fdbk.feedback_type==\"peer\"&& fdbk.to_employee==selfId);\n\t\t\n\t\tconst custCategories= categories.map((category)=>{\n\t\t\t\tconst continueDoing=feedbacks.find(feedback=>feedback.category===category.id)?.feedback_continue??\"N/A\";\n\t\t\t\tconst canDo=feedbacks.find(feedback=>feedback.category===category.id)?.feedback_more_of??\"N/A\";\n\t\t\t\tconst rating=feedbacks.find(feedback=>feedback.category===category.id)?.rating??0;\n\t\t\t\tconst feedbackid=feedbacks.find(feedback=>feedback.category===category.id)?.id??0;\n\t\t\t\tconst cycle=feedbacks.find(feedback=>feedback.category===category.id)?.cycle??0;\n\t\t\t\n\t\t\t\treturn {name:category.name,\n\t\t\t\t\t\t\t\tdescription:category.description,\n\t\t\t\t\t\t\t\tcontinueDoing:continueDoing,\n\t\t\t\t\t\t\t\tcando:canDo,\n\t\t\t\t\t\t\t\trating:rating,\n\t\t\t\t\t\t\t\tid:category.id,\n\t\t\t\t\t\t\t\tfeedbackid:feedbackid,\n\t\t\t\t\t\t\t\tcycle:cycle\n\t\t\t\t\t\t\t };\n\t\t\t\t});\n\t\t\t\tconsole.log(\"feedbacfeedbacksks\",peerId,selfId,getFeedback.data,custCategories)\n\t\t\n\t\t\t\treturn custCategories;\n\t},\n\tdisableCreatebtn:()=>{\n\t\tconst currentFeedBack=KRACategoryList.selectedRow.id;\n\t\tconst selfId=feedbackToName.selectedOptionValue;\n\t\tconsole.log(\"feedbacfeedbacksksselfId\",selfId);\n\t\tif(selfId.length==0){\n\t\t\treturn true\n\t\t}\n\t\tconsole.log(\"isFeedbackPostedoutt\",currentFeedBack==undefined,currentFeedBack.length==0);\n\t\tif(ContDoInput.text.length==0||candoInput.text.length==0){\n\t\t\treturn true\n\t\t}\n\t\tif(currentFeedBack==undefined||currentFeedBack.length==0){\n\t\t\treturn true\n\t\t}else{\n\t\t\tconst feedbacks = getFeedback.data.filter(fdbk=>fdbk.from_employee == PeerName.selectedOptionValue&& fdbk.feedback_type==\"peer\"&& fdbk.to_employee===feedbackToName.selectedOptionValue);\n\t\t\tconst isFeedbackPosted=feedbacks.some(feedback=>feedback.category==currentFeedBack);\n\t\t\tconsole.log(\"isFeedbackPosted\",feedbacks,isFeedbackPosted);\n\t\t\treturn isFeedbackPosted;\n\t\t}\n\t},\n\tdisableUpdatebtn:()=>{  \n\t\tconst currentFeedBack=KRACategoryList.selectedRow.id;\n\t\tconst selfId=feedbackToName.selectedOptionValue;\n\t\tconsole.log(\"feedbacfeedbacksksselfId\",selfId);\n\t\tif(selfId.length==0){\n\t\t\treturn true\n\t\t}\n\t\tif(ContDoInput.text.length==0||candoInput.text.length==0){\n\t\t\treturn true\n\t\t}\n\t\tconsole.log(\"isFeedbackPostedoutt\",currentFeedBack==undefined,currentFeedBack.length==0);\n\t\tif(currentFeedBack==undefined||currentFeedBack.length==0){\n\t\t\treturn true\n\t\t}else{\n\t\t\tconst feedbacks = getFeedback.data.filter(fdbk=>fdbk.from_employee == PeerName.selectedOptionValue && fdbk.feedback_type==\"peer\"&& fdbk.to_employee===feedbackToName.selectedOptionValue);\n\t\t\tconst isFeedbackPosted=feedbacks.some(feedback=>feedback.category==currentFeedBack);\n\t\t\tconsole.log(\"isFeedbackPosted\",isFeedbackPosted);\n\t\t\treturn !isFeedbackPosted;\n\t\t}\n\t}\n}",
    "variables": [
      {
        "name": "ratingsTooltips",
        "value": "[\"Does not meet expectation\", \"Satisfactory\", \"Average\", \"Excellent\", \"Exceeds expectations\"]"
      }
    ],
    "userPermissions": []
  },
  "id": "PeerFeedback_feedbackObj",
  "deleted": false,
  "gitSyncId": "6361ef20dfa75b056e2ed6b2_6361ef20dfa75b056e2ed731"
}