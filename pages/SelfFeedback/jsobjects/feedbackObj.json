{
  "unpublishedCollection": {
    "name": "feedbackObj",
    "pageId": "SelfFeedback",
    "pluginId": "js-plugin",
    "pluginType": "JS",
    "actions": [],
    "archivedActions": [],
    "body": "export default {\n\tselectedFeedback:{},\n\tratingsTooltips:[\"Does not meet expectation\",\"Satisfactory\",\"Average\",\"Excellent\",\"Exceeds expectations\"],\n\tgetCurrentCycle:()=>{\n\t\tconst localDate = new Date();\n\t\tconst months = [\n\t\t\t'January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'\n\t\t];\n\t\treturn months[localDate.getMonth()] + localDate.getFullYear() + \" Cycle\"\n\t},\n\tgetDateForCycle:()=>{\n\t\tconst date=new Date();\n\t\tconst cycleDate=[9,10,11,12].includes(date.getMonth())? // 0-jan,1-feb etc.\n\t\t\t\t\t`Oct ${date.getFullYear()}`:\n\t\t\t\t\t[4,5,6,7].includes(date.getMonth())?\n\t\t\t\t\t`Jun ${date.getFullYear()}`:\"\";\n\t\treturn cycleDate;\n\t},\n\tgetCurrentDate:()=>{\n\t\tconst date=new Date();\n\t\tconst year=date.getFullYear();\n\t\tconst month=date.getMonth();\n\t\tconst day=date.getDate();\n\t\tconst hrs=date.getHours();\n\t\tconst mins=date.getMinutes();\n\t\tconst secs=date.getSeconds();\n\t\tconst milli=date.getMilliseconds();\n\t\tconst fullDate=`${year}/${month}/${(Number(day)<10?\"0\"+day:day)}  ${Number(hrs)<10?\"0\"+hrs:hrs}:${Number(mins)<10?\"0\"+mins:mins}:${Number(secs)<10?\"0\"+secs:secs}.${milli}`;\n\t\treturn fullDate;\n\t},\n\tgetcategoriesList:()=>{\n\t\tconst selfId=selfName.selectedOptionValue;\n\t\tconst categories= getKraCategories.data;\n\t\tconst feedbacks = getFeedback.data.filter(fdbk=>fdbk.from_employee==selfId&& fdbk.feedback_type==\"self\");\n\t\tconst custCategories= categories.map((category)=>{\n\t\t\t\tconst continueDoing=feedbacks.find(feedback=>feedback.category===category.id)?.feedback_continue??\"N/A\";\n\t\t\t\tconst canDo=feedbacks.find(feedback=>feedback.category===category.id)?.feedback_more_of??\"N/A\";\n\t\t\t\tconst rating=feedbacks.find(feedback=>feedback.category===category.id)?.rating??0;\n\t\t\t\tconst feedbackid=feedbacks.find(feedback=>feedback.category===category.id)?.id??0;\n\t\t\t\tconst cycle=feedbacks.find(feedback=>feedback.category===category.id)?.cycle??0;\n\t\t\t\treturn {name:category.name,\n\t\t\t\t\t\t\t\tdescription:category.description,\n\t\t\t\t\t\t\t\tcontinueDoing:continueDoing,\n\t\t\t\t\t\t\t\tcando:canDo,\n\t\t\t\t\t\t\t\trating:rating,\n\t\t\t\t\t\t\t\tid:category.id,\n\t\t\t\t\t\t\t\tfeedbackid:feedbackid,\n\t\t\t\t\t\t\t\tcycle:cycle\n\t\t\t\t\t\t\t };\n\t\t\t\t});\n\t\t\t\tconsole.log(\"feedbacfeedbacksks\",custCategories)\n\t\t\t\treturn custCategories;\n\t},\n\tdisableCreatebtn:()=>{\n\t\tconst currentFeedBack=appsmith.store.feedback.id;\n\t\tconst selfId=selfName.selectedOptionValue;\n\t\tconsole.log(\"feedbacfeedbacksksselfId\",selfId);\n\t\tif(selfId.length==0){\n\t\t\treturn true\n\t\t}\n\t\tconsole.log(\"isFeedbackPostedoutt\",currentFeedBack==undefined,currentFeedBack.length==0);\n\t\tif(ContDoInput.text.length==0||candoInput.text.length==0){\n\t\t\treturn true\n\t\t}\n\t\tif(currentFeedBack==undefined||currentFeedBack.length==0){\n\t\t\treturn true\n\t\t}else{\n\t\t\tconst feedbacks = getFeedback.data.filter(fdbk=>fdbk.from_employee == selfName.selectedOptionValue&& fdbk.feedback_type==\"self\");\n\t\t\tconst isFeedbackPosted=feedbacks.some(feedback=>feedback.category==currentFeedBack);\n\t\t\tconsole.log(\"isFeedbackPosted\",!isFeedbackPosted);\n\t\t\treturn isFeedbackPosted;\n\t\t}\n\t},\n\tdisableUpdatebtn:()=>{  \n\t\tconst currentFeedBack=appsmith.store.feedback.id;\n\t\tconst selfId=selfName.selectedOptionValue;\n\t\tconsole.log(\"feedbacfeedbacksksselfId\",selfId);\n\t\tif(selfId.length==0){\n\t\t\treturn true\n\t\t}\n\t\tif(ContDoInput.text.length==0||candoInput.text.length==0){\n\t\t\treturn true\n\t\t}\n\t\tconsole.log(\"isFeedbackPostedoutt\",currentFeedBack==undefined,currentFeedBack.length==0);\n\t\tif(currentFeedBack==undefined||currentFeedBack.length==0){\n\t\t\treturn true\n\t\t}else{\n\t\t\tconst feedbacks = getFeedback.data.filter(fdbk=>fdbk.from_employee == selfName.selectedOptionValue&& fdbk.feedback_type==\"self\");\n\t\t\tconst isFeedbackPosted=feedbacks.some(feedback=>feedback.category==currentFeedBack);\n\t\t\tconsole.log(\"isFeedbackPosted\",isFeedbackPosted);\n\t\t\treturn !isFeedbackPosted;\n\t\t}\n\t},\n\tchangeFeedbackId:(feedback={})=>{\n\t\tfeedbackObj.selectedFeedback = feedback;\n\t}\n}",
    "variables": [
      {
        "name": "selectedFeedback",
        "value": "{}"
      },
      {
        "name": "ratingsTooltips",
        "value": "[\"Does not meet expectation\", \"Satisfactory\", \"Average\", \"Excellent\", \"Exceeds expectations\"]"
      }
    ],
    "userPermissions": []
  },
  "id": "SelfFeedback_feedbackObj",
  "deleted": false,
  "gitSyncId": "6361ef20dfa75b056e2ed6b2_6361ef20dfa75b056e2ed729"
}